{% set title = 'Emergency banner' %}
{% set navigation = 'transactional' %}
{% set navigationWidth = 'fluid' %}
{% from 'components/emergency-alert/macro.njk' import emergencyAlert %}
{% extends "includes/templates/styles.html"%}

{% block header %}
    <h1>Emergency banner</h1>
    <p class="nhsuk-body-s"><span class="nhsuk-tag nhsuk-tag__development">Development</span></p>
{% endblock %}

{% block sidebar %}
    <h2 class="nhsuk-heading-xs">Page contents</h2>
    <ul>
      <li><a href="#current-design">What was being used</a></li>
      <li><a href="#previous-research">Previous research</a></li>
      <li><a href="#user-need">User need</a></li>
      <li><a href="#our-designs">Design and research</a></li>
      <li><a href="#code">Example and code snippet</a></li>
      <li><a href="#accessibility">Accessiblity</a></li>
      <li><a href="#usage">Usage (rules)</a></li>
      <li><a href="#going-forward">Going forward</a></li>
    </ul>
{% endblock %}

{% block content %}

<div class="nhsuk-reading-width">

	<h2 id="current-design">What was being used</h2>

	<div class="example grey-background">
		<img class="component-image" alt="Current emergency banner design" src="/assets/images/component-write-up/emergency-banner/eb-current.png">
		<p class="nhsuk-body-s">Current emergency banner design</p>
	</div>

	<h2 id="previous-research">Previous research</h2>
	<p>To our knowledge, no previous user testing had been done.</p>
  <p>Although, we did find out it has only been used twice in the last 10 years.</p>

	<h2 id="user-need">User need</h2>
  <p>As a user, I need to be informed of an emergency, so I am aware of wider situations which may or may not relate to me.</p>


	<h2 id="our-designs">Design and research</h2>

	<h3>Quick win</h3>

  <p>Due to the state of the current banner, we decided a quick win would be to tidy it up with CSS in its current format. Aligning the design to our early new design, using the colours from the NHS colour palette.</p>
  <div class="example grey-background">
		<img class="component-image" alt="Current emergency banner design tidied up" src="/assets/images/component-write-up/emergency-banner/eb-current-tidied.png">
		<p class="nhsuk-body-s">Current emergency banner design tidied up</p>
	</div>

  <h3>Early work / thinking</h3>
   <div class="example grey-background">
		<img class="component-image" alt="Banner table" src="/assets/images/component-write-up/survey-banner/banner-matrix.jpg">
		<p class="nhsuk-body-s">Banner table</p>
	</div>
  <p>To help with the design, we created a table to determine the criteria for each banner, and thought about whether each banner should:</p>
  <ul>
    <li>appear at the start or end of the users’ journey?</li>
    <li>be passive or prominent?</li>
    <li>be temporary or permanent?</li>
  </ul>

  <p>We decided the survey banner should:</p>
  <ul>
    <li>appear before the users’ journey</li>
    <li>be prominent – so they notice it</li>
  </ul>

	<h3 class="nhsuk-heading-l">First iteration</h3>
	<h4 class="nhsuk-heading-m">Hypothesis</h4>
	<p><strong>If</strong> we make the banner bright yellow and black</br>
	<strong>Then</strong> the banner will grab the user’s attention</br>
	<strong>Because</strong> yellow is the most visible colour of the spectrum and the combination of yellow/black are seen as warnings.</p>

  <p><strong>If</strong> we position the banner at the top of the page</br>
	<strong>Then</strong> users will notice it</br>
	<strong>Because</strong> it will be one of the first things they see on screen.</p>

  <p><strong>If</strong> we use a relative date stamp instead of absolute</br>
	<strong>Then</strong> users will understand the time of the alert better</br>
	<strong>Because</strong> it will be easier/quicker to process.</p>

	<div class="example grey-background">
		<img class="component-image" src="/assets/images/component-write-up/emergency-banner/eb-desktop-v1.png">
    <img class="component-image mobile" src="/assets/images/component-write-up/emergency-banner/eb-mobile-v1.png">
	</div>
	<h4 class="nhsuk-heading-m">Research findings</h4>

  <p>We did a survey on nhs.uk. Users were asked to select what stands out most to them on the page. Emergency banners should be the most prominent thing.</p>

  <img class="component-image" alt="Heatmap from survey" src="/assets/images/component-write-up/emergency-banner/eb-banner-heatmap.png">
  <p class="nhsuk-body-s">Heatmap from survey</p>

  <ul>
    <li>The banner competes for attention with the h1 heading on desktop.</li>
    <li>The banner is given more attention on mobile.</li>
  </ul>

  <p>The h1 heading is an important part of the page, so we don’t see users selecting that as a problem.</p>

  <h4 class="nhsuk-heading-m">Accessibility testing</h4>

  <p><strong>Fully blind user, Leeds BID August 2018</strong></p>
  <ul>
    <li>The user understood the banner and the meaning it was intended to convey. </li>
    <li>Consider placing this banner before header and menu for screen readers to highlight the importance.</li>
    <li>On VoiceOver, the ARIA label of Alert was being read out after the banner content. Inconsistent with JAWS, which reads it out before.</li>
  </ul>

  <h3 class="nhsuk-heading-l">Second iteration</h3>
	<h4 class="nhsuk-heading-m">Hypothesis</h4>
	<p><strong>If</strong> we move the banner above the header</br>
	<strong>Then</strong> users with visual impairments are less likely to miss</br>
	<strong>Because</strong> it will be the first thing on the page.</p>

	<div class="example grey-background">
		<img class="component-image" src="/assets/images/component-write-up/emergency-banner/eb-desktop.png">
    <img class="component-image mobile" src="/assets/images/component-write-up/emergency-banner/eb-mobile.png">
	</div>

  <h4 class="nhsuk-heading-m">Testing</h4>

  <p>We plan to have DAC (Digital Accessibility Centre) test the emergency banner, along with all other new components.</p>

	<h2 id="code">Example and code snippet</h2>

	<div class="example grey-background">
      {{ emergencyAlert('National flu outbreak', 'There has been a national flu outbreak.', '#', 'How does it affect me', 'Updated 23 mins ago') }}
	</div>

	<div class="example-snippet">
		<button class="nhsuk-btn-copy" data-clipboard-target="#clipboard-3">Copy</button>
<pre class="language-markup" id="clipboard-3"><code class="  language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-global-alert<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-c-global-alert nhsuk-c-global-alert--warning<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-o-width-container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-o-grid<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-o-grid__item nhsuk-o-grid__item--full<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-c-global-alert__content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-c-global-alert__header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>visually-hidden<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Alert: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>National flu outbreak<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-c-global-alert__message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>There has been a national flu outbreak. <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-c-banner__link wrap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How does it affect me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nhsuk-c-global-alert__updated<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Updated 23 mins ago<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
	</div>

</div>

	<h2 id="accessibility">Accessibility</h2>

  <ul>
    <li>Text colour meets AAA guidelines.</li>
    <li>Link colour meets AA guidelines (just short of AAA).</li>
    <li>Hidden text with the header to give context to screen readers.
    Eg: “Alert: National flu outbreak”</li>
    <li>The banner is positioned above the header so users with screen readers are less likely to miss it.</li>
  </ul>


	<h2 id="usage">Usage (rules)</h2>
  <ul>
    <li>Use a clear descriptive header and call to action.</li>
    <li>Senior members of content team would decide when to use an emergency banner.</li>
  </ul>


	<h2 id="going-forward">Going forward</h2>

  <h3>What is success</h3>

  <p>Success will be if users notice the emergency banner and they act if there is an action to take.</p>

  <h3>How we measure success</h3>

  <p>The emergency banner has previously played a supporting role in national emergencies such as swine flu, so we are unsure how it would be measured.</p>


</div>  

{% endblock %}


